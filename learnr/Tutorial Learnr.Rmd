---
title: "Tutorial de learnr"
author: 
  - name: "Yanely L.G."
  - name: "Carlos A. Ar."
  - name: "Facultad de Ciencias"
  - name: "UNAM"
output:
  learnr::tutorial:
    progressive: true
    allow_skip: true
runtime: shiny_prerendered
description: "Este es un tutorial de learnr para aprender a usar learnr."
---

```{r setup, include=FALSE}
#Librer√≠as a usar
library(learnr)
library(checkr)
library(ggplot2)
library(palmerpenguins)
library(DiagrammeR)
#Modificaci√≥nes para los chunks
knitr::opts_chunk$set(echo = FALSE)
#Modificaciones en el tutorial
```

```{=html}
<style>
div {
  text-align: justify;
}
/***********************/
/*T√≠tulos ## y autor√≠a F6EACD*/
/***********************/
h1, h2 {
  color: #6D4101;
  padding: .4em; /*es decir el 60 por ciento del tama√±o de la letra*/
  font-family: "Courier New", monospace;
  font-size: 35px;
  font-weight: bold;
  opacity: 0.95;
}
em {
  color: #8A6C0C;
  font-family: "Courier New", monospace;
  font-size: 18px;
  padding: .2em;
  opacity: 0.97;
  font-weight: bold;
}
/***********************/
/* Cuerpo */
/***********************/
body {
  font-family: Verdana, Helvetica, sans-serif;
  font-size: 16;
  background-color: #EEF5F9;
  color: #000000;
}
/***********************/
/* T√≠tulos con ###     */
/***********************/
h3, h4, h5{
  color: #06116C;
  font-family: Verdana, Helvetica, sans-serif;
}
/*******************************************/
/* Referencias a p√°ginas o a otro documento*/
/*******************************************/
a {
    color: #B8870F;
    text-decoration: none;
}
/**********************/
/* Chunks de exercises*/
/**********************/
.ace-tm {
    background-color: #FFFEF7;
    color: #010730;
}
/***********************/
/* tabla de contenidos */
/***********************/
.topicsList {
  padding: .5em;
}
.topicsHeader {
  color: #06116C;
  padding: .5em;
}
.topicsList #doc-metadata {
  color: #06116C;
  padding: .5em;
}
.topicsList .topic.current {
  background-color: #8A6C0C;
  color: #FFFFFF;
  font-weight: bold;
}
.topicsList .topic:hover, .topicsList .topic:active {
  background-color: #E0CD4E;
  color: #01053D;
}
/***********/
/* Botones */
/***********/
.btn {
  background-color: #000857;
  color: #EBEDFF;
}
/* cambiar de p√°gina */
.btn-default {
    color: #EBEDFF;
    background-color: #000857;
    border: none;
}
/* cambiar de p√°gina */
.btn-light {
  background-color: #000857;
  color: #EBEDFF;
}
/* run code */
.btn-primary , .btn-success, .btn-info{
  background-color: #786300;
  color: #EBEDFF;
}
/* mientras est√° desabilitados */
.btn:hover, .btn:active, .btn:disabled {
  background-color: #786300;
  color: #EBEDFF;
}
/**********/
/* C√≥digo */
/**********/
code {
    color: #6D4101;
    background-color:  #F7FBF9;
    font-size: 15px;
    font-weight: bold;
}
/**************************/
/* Recuadro para ejemplos */
/**************************/
.boxed {
    background: #F7FBF9;
    color: black;
    border: 3px solid #C83737;
    margin: 0px auto;
    width: 456px;
    padding: 10px;
    border-radius: 10px;
  }
.note {
    padding: 1em;
    margin: 1em 0;
    padding-left: 100px;
    background-size: 70px;
    background-repeat: no-repeat;
    background-position: 15px 15px;
    min-height: 120px;
    color: black;
    background-color: lightgrey;
    border: solid 5px #C83737;
    background-image: url("manzana.png");
  }
.note_white {
    padding: 1em;
    margin: 1em 0;
    padding-left: 100px;
    background-size: 70px;
    background-repeat: no-repeat;
    background-position: 15px 15px;
    min-height: 120px;
    color: black;
    background-color: #F7FBF9;
    border: solid 5px #C83737;
    background-image: url("manzana.png");
  }
</style>
```
## Introducci√≥n

### Objetivo de este tutorial

El objetivo de este tutorial es que aprendas a generar tu propio tutorial (üòú) interactivo en R usando la paqueter√≠a `learnr`. Esta paqueter√≠a consta de funciones que permiten modificar un [archivo .Rmd](https://tutorialesmg.netlify.app/r-markdown) para incluir cuestionarios, ejercicios de c√≥digo entre otras cosas.

### Esquema de este tutorial

```{r, echo=FALSE, eval = FALSE}
DiagrammeR("
graph LR;
  A[learnr] --> B[Im√°genes y Videos];
  A --> D[Cuestionarios];
  A --> C[Ejercicios de c√≥digo];
  A --> E[Dise√±o del tutorial];
  C --> F[Opciones de C√≥digo];
  C --> H[solution y hints];
  F --> I[exercise.cap];
  F --> J[exercise.completion];
  F --> K[exercise.setup];
  D --> L[quiz];
  D --> M[question];
  D --> N[answer];
  E --> O[CSS];
  E --> P[theme];
  style A fill:#EAE38F, stroke:#A59800;  
  
  style B fill:#FCF3CF, stroke:#F0B27A; 
  style C fill:#73C6B6, stroke:#138D75;
  style D fill:#C39BD3, stroke:#A569BD;  
  style E fill:#AED6F1, stroke:#5499C7;
  
  style F fill:#A9DFBF, stroke:#82E0AA;  
  style H fill:#A9DFBF, stroke:#82E0AA; 
  
  style L fill:#E8DAEF, stroke:#D2B4DE;  
  style M fill:#E8DAEF, stroke:#D2B4DE;
  style N fill:#E8DAEF, stroke:#D2B4DE;  
  
  style O fill:#EBF5FB, stroke:#7FB3D5;
  style P fill:#EBF5FB, stroke:#7FB3D5;
  
  style I fill:#D0ECE7, stroke:#73C6B6;  
  style J fill:#D0ECE7, stroke:#73C6B6;
  style K fill:#D0ECE7, stroke:#73C6B6;
")
```

![](images/esquema.png)

### Primeros pasos

![](https://www.youtube.com/watch?v=EBAvQkP9Kyc)

```{r cuestionario1}
quiz(
  question(
    text = "¬øQu√© paqueter√≠a se requiere para crear un tutorial interactivo en RStudio?",
    allow_retry=TRUE,
    answer("xaringan",message = "Esta paqueter√≠a sirve para crear presentaciones en R."),
    answer("flipbookr",message = "Esta paqueter√≠a sirve para mostrar c√≥digo incremental."),
    answer("learnr", correct = TRUE, message = "¬°Correcto!"),
    correct = "¬°Felicidades, vas al camino del √©xito!",
    try_again = "T√∫ puedes mejorar",
    submit_button = "Confirmar",
    try_again_button = "Intenta de nuevo"
  ),
  question(
    text = "¬øQu√© necesitas para crear un tutorial interactivo?",
    allow_retry=TRUE,
    answer("Determinar los objetivos del tutorial",correct=TRUE),
    answer("La paqueter√≠a learnr",correct=TRUE),
    answer("Saber matem√°ticas"),
    correct = "¬°Felicidades!",
    try_again = "T√∫ puedes mejorar",
    submit_button = "Confirmar",
    try_again_button = "Intenta de nuevo"
  ),
  caption = "Cuestionario"
)

```

## Crear un tutorial interactivo

### Instalar y cargar `learnr`

Usa este comando `install.packages("learnr")` en tu consola de R/RStudio para instalar el paquete `learnr`.

Ingresa el comando para cargar la paqueter√≠a dentro del archivo de tu tutorial.

```{r ej1, exercise=TRUE,exercise.cap="Cargar learnr"}

```

```{r ej1-solution}
library(learnr)
```

### Crear un tutorial

**Opci√≥n 1**:

1.  Crear un nuevo Rmarkdown:

    ![](images/learnr1.png){width="489"}

2.  Seleccionar la plantilla de **Interactive tutorial**

    ![](images/learnr2.png){width="473"}

**Opci√≥n 2:**

1.  En un archivo Rmarkdown modificar el [YAML](https://tutorialesmg.netlify.app/r-markdown) header para incluir el output que se muestra:

<!-- -->

    ---
    title: "Tutorial"
    output: 
      learnr::tutorial:
        theme: flatly
        highlight: tango
    runtime: shiny_prerendered
    description: "Esto es un tutorial de learnr para aprender a usar learnr."
    ---

## Ejercicios de c√≥digo

### Ejercicios de c√≥digo

Para hacer interactivo el tutorial se pueden incluir secciones en las que el usuario proporcione c√≥digo a ejecutar. La opci√≥n `exercise=TRUE` en un chunk permite convertirlo en un ejercicio.

```{r eval=FALSE,echo=TRUE}
{r ejercicio, exercise=TRUE}
#Aqu√≠ puedes ingresar c√≥digo de R y ejecutarlo.
```

### Opciones del chunk

Las opciones de c√≥digo chunk no se muestran en el tutorial (y en general no se muestran en los Rmd).

    ```{r nombre_del_chunk, diversas_opciones_que_mostraremos}
    # Tu c√≥digo
    ```

Ejemplo:

![](images/learnr16.png)

Veamos para qu√© sirven estas opciones en la siguiente tabla:

+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+
| Opci√≥n                 | Descripci√≥n                                                                                                                  | Resultado                                       |
+:=======================+:=============================================================================================================================+=================================================+
| `exercise.lines = n`   | n puede ser: 1, 2, 3, .... Y ese n√∫mero ser√° el n√∫mero de filas de c√≥digo que se muestren en el tutorial.                    | ![](images/learnr5.png){width="203"}            |
+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+
| `exercise.cap`         | T√≠tulo del ejercicio que aparecer√° en la esquina superior izquierda. Por default, `exercise.cap = "Code"`                    | ![](images/learnr6.png){width="201"}            |
+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+
| `exercise.eval`        | Por defecto es `FALSE` lo que implica que el c√≥digo proporcionado no se eval√∫a sino hasta que el usuario quiera.             | ![](images/learnr7.png){width="201"}            |
+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+
| `exercise.timelimit`   | Tiempo l√≠mite de ejecuci√≥n del c√≥digo en segundos. (Si el c√≥digo tarda en ejecutar m√°s del tiempo l√≠mite, aparece un error). | ![](images/learnr8.png){width="208"}            |
|                        |                                                                                                                              |                                                 |
|                        | **No significa** que el usuario tenga ese tiempo para completar el c√≥digo.                                                   |                                                 |
+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+
| `exercise.completion`  | Es `TRUE` por defecto y permite que el usuario vea los posibles par√°metros que requiere una funci√≥n.                         | ![](images/learnr9.png){width="208"}            |
+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+
| `exercise.diagnostics` | Es `TRUE` por defecto y permite que el usuario vea los posibles errores que comete al escribir c√≥digo.                       | Ve ejemplo en la secci√≥n: **Ayudar al usuario** |
|                        |                                                                                                                              |                                                 |
|                        | ***Poner referencias dentro del tutorial no funciona***                                                                      |                                                 |
+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+
| `exercise.startover`   | Por defecto es `TRUE`. Indica si queremos que aparezca un bot√≥n que permita reiniciar el ejercicio.                          | ![](images/learnr10.png){width="258"}           |
+------------------------+------------------------------------------------------------------------------------------------------------------------------+-------------------------------------------------+

La funci√≥n `tutorial_options()` puede usarse para especificar las opciones del chunk para todas los chunks del tutorial. Esta configuraci√≥n global puede especificarse en un chunk con nombre `setup` al inicio del tutorial. Es recomendable cargar todas las librer√≠as que se requieran para el tutorial en dicho chunk.

El c√≥digo y los resultados de un chunk de ejercicio no estar√°n disponible para los dem√°s chunks a menos que se especif√≠que, Una forma de hacer esto es usando la opci√≥n `exercise.setup="nombre-chunk-a-usar"`en el chunk de ejercicio en el que queremos usar el resultado previo. Podemos ir formando una cadena de resultados a usar de esta forma.

**Ejemplo.**

    {r respuesta}
    grafica_pinguinos <- ggplot(data = penguins) +
           aes(x = flipper_length_mm) +
      geom_histogram(aes(fill = species),
                     alpha = 0.5,
                     position = "identity") 
                     
                    
    1.

    {r ejercicio7, exercise=TRUE, message=FALSE,warning=FALSE}
    grafica_pinguinos <- ggplot(data = ______) +
           aes(x = flipper_length_mm) +
      geom_histogram(aes(fill = species),
                     alpha = 0.5,
                     position = "identity") +
      labs(x = "Flipper length (mm)",
           y = "Frequency",
           title = "Penguin flipper lengths") + 
      scale_fill_manual(values = c("darkorange","purple","cyan4"))
      
      grafica_pinguinos
      
    2. 

    {r ejercicio7_2, exercise=TRUE, exercise.setup="respuesta"}
    grafica_pinguinos + _____

1.  Completa el siguiente c√≥digo para generar una gr√°fica con los datos del data.frame `penguins`

    ```{r respuesta}
    grafica_pinguinos <- ggplot(data = penguins) +
           aes(x = flipper_length_mm) +
      geom_histogram(aes(fill = species),
                     alpha = 0.5,
                     position = "identity") 
    ```

    ```{r ejercicio7, exercise=TRUE, message=FALSE,warning=FALSE}
    grafica_pinguinos <- ggplot(data = ____) +
           aes(x = flipper_length_mm) +
      geom_histogram(aes(fill = species),
                     alpha = 0.5,
                     position = "identity") 
    grafica_pinguinos
    ```

<!-- -->

2.  Agrega el tema `minimal` al gr√°fico anterior.

    ```{r ejercicio7_2, exercise=TRUE, exercise.setup="respuesta",message=FALSE,warning=FALSE}
    grafica_pinguinos + _____

    ```

```{r ejercicio7_2-solution}
grafica_pinguinos  + theme_minimal()

```

*Notemos que la segunda parte del ejercicio va ligada a un chunk que contiene la respuesta correcta y no al chunk de la parte 1 del ejercicio (que contiene la respuesta del usuario).* üò¢

### Ejercicios con hints y soluciones {#syh}

Podemos dar hints a un ejercicio usando el sufijo `-hint` en el nombre del chunk que contiene el hint o mostrar el c√≥digo de la soluci√≥n a√±adiendo `-solution` al nombre del chunk que contiene la soluci√≥n.

Por ejemplo, para proporcionar c√≥digo que de una pista para resolver el ejercicio que tiene nombre de chunk `ejercicio1`, escribimos la pista en un chunk que tenga nombre `ejercicio1-hint`. De manera similar, para proporcionar el c√≥digo de la soluci√≥n de este ejercicio lo escribimos en un chunk con nombre `ejercicio1-solution`.

    '''{r ejercicio1, exercise=TRUE}
    #Aqu√≠ va el ejercicio:

    # Cambia al color de los puntos a rosa
    ggplot(mtcars, aes(x=mpg,y=cyl)) +
      geom_point()
    '''

    '''{r ejercicio1-hint}
    #Aqu√≠ va el hint para el ejercicio 1

    # Usa el par√°metro color dentro de geom_point()
    '''

```{r ejercicio1, exercise=TRUE}
# Cambia al color de los puntos a rosa
ggplot(mtcars, aes(x=mpg,y=cyl)) +
  geom_point()
```

```{r ejercicio1-hint}
#Usa el par√°metro color dentro de geom_point()
```

    '''{r ejercicio2, exercise=TRUE}
    #Aqu√≠ va el ejercicio:

    # Cambia al color de los puntos a verde
    ggplot(mtcars, aes(x=mpg,y=cyl)) +
      geom_point()
    '''

    '''{r ejercicio2-solution}
    #Aqu√≠ va la soluci√≥n del ejercicio 1

    ggplot(mtcars, aes(x=mpg,y=cyl)) +
      geom_point(color = "green")
    '''

```{r ejercicio2, exercise=TRUE}
# Cambia al color de los puntos a verde
ggplot(mtcars, aes(x=mpg,y=cyl)) +
  geom_point()
```

```{r ejercicio2-solution}
ggplot(mtcars, aes(x=mpg,y=cyl)) +
  geom_point(color= "green")
```

Al proporcionar hints y tambi√©n la soluci√≥n en un ejercicio, √©sta aparecer√° dentro del apartado de las hints y se mostrar√° al final.

    '''{r ejercicio3, exercise=TRUE}
    #Aqu√≠ va el ejercicio:

    # Cambia al color de los puntos a verde
    ggplot(mtcars, aes(x=mpg,y=cyl)) +
      geom_point()
    '''

    '''{r ejercicio3-hint}
    #Aqu√≠ va el hint

    # Usa el par√°metro color dentro de geom_point()
    '''

    '''{r ejercicio3-solution}
    #Aqu√≠ va la soluci√≥n del ejercicio 1

    ggplot(mtcars, aes(x=mpg,y=cyl)) +
      geom_point(color = "green")
    '''

```{r ejercicio3, exercise=TRUE, highlight=TRUE}
# Cambia al color de los puntos a verde
ggplot(mtcars, aes(x=mpg,y=cyl)) +
  geom_point()
```

```{r ejercicio3-hint}
# Usa el par√°metro color dentro de geom_point()
```

```{r ejercicio3-solution}
ggplot(mtcars, aes(x=mpg,y=cyl)) +
  geom_point(color= "green")
```

### Reiniciar un ejercicio

Esto se hace con la opci√≥n `exercise.star-over` en el chunk de c√≥digo (por defecto es TRUE). El siguiente ejercicio NO se puede reiniciar (es decir `exercise.star-over = FALSE`)

    '''{r ejercicio4, exercise = TRUE, exercise.startover = FALSE}

    # Define un vector con los n√∫meros pares del 0 al 10
    # Ejemplo: c(0,,,,)

    '''

```{r ejercicio4, exercise = TRUE, exercise.startover = FALSE}
#Define un vector con los n√∫meros pares del 0 al 10
# Ejemplo: c(0,,,,)
```

### Ayudar al usuario *(completar c√≥digo y aviso de fallas)*

Por defecto, en cada ejercicio de c√≥digo se tiene que`exercise.completion = TRUE` lo cual hace que mientras el usuario escribe una funci√≥n de R (por ejemplo `mean)`, se muestren los par√°metros que requiere esa funci√≥n (por ejemplo `x = , na.rm =` ).

```{r ejercicio5, exercise = TRUE, exercise.completion = FALSE, exercise.cap = "Sin ayuda para completar"}
#Intenta volver a llenar los argumentos de la funci√≥n seq para NO ver en marcha exercise.completion (pues pusimos exercise.completion = FALSE)
x <- seq(0,10,2)
```

Por otro lado `exercise.diagnostics = TRUE` para avisar al usuario cuando cometa un error en el c√≥digo, por ejemplo `function(` es un error de codificaci√≥n porque falta un par√©ntesis, si se escribe `exercise.diagnostics = FALSE` no se le dar√° aviso al usuario que es un error.

-   `exercise.diagnostics = TRUE`

    ![](images/learnr3.png)

-   `exercise.diagnostics = FALSE`

    ![](images/learnr4.png)

```{r ejercicio6, exercise = TRUE, exercise.diagnostics = FALSE, exercise.cap = "Sin diagn√≥stico"}
# Observa que no aparece del lado izquerdo alguna advertencia de los siguientes errores:
function(
  
mean(
```

### Examen sorpresa ü§®

```{r cuestionario9}
quiz(
  question("¬øQu√© opci√≥n del chunk se usa para que aparezca el bot√≥n de `Start over` en cada ejercicio?",
           answer("`exercise.diagnostics`",message="Esta opci√≥n es para advertirte sobre los errores de c√≥digo en el editor."),
           answer("`exercise.start-over`",correct=TRUE),
           answer("`exercise.cap`",message="Esta opci√≥n te permite cambiar el t√≠tulo del ejercicio."),
           allow_retry=TRUE,
           correct = "¬°S√≠ que has puesto atenci√≥n!",
           try_again = "Vuelve a leer la secci√≥n anterior",
           submit_button = "Yo s√© que s√©",
           try_again_button = "Int√©ntalo de nuevo "),
  question("La opci√≥n `exercise.timelimit` sirve para limitar el tiempo que tiene el usuario para responder.",
           answer("Verdadero"),
           answer("Falso", correct=TRUE),
           allow_retry=TRUE,
           correct = "¬°S√≠ que has puesto atenci√≥n!",
           try_again = "![](https://images.gr-assets.com/hostedimages/1512773227ra/24632217.gif)",
           submit_button = "Yo s√© que s√©",
           try_again_button = "Int√©ntalo de nuevo")
)

```

## Cuestionarios

### Preguntas

Adem√°s de los ejercicios de c√≥digo, puedes incluir preguntas de opci√≥n m√∫ltiple con la siguiente estructura:

**C√≥digo**

```{r,echo=TRUE,eval=FALSE}
{r quiz}
quiz(
  question("Aqu√≠ escribes la pregunta",
    allow_retry = TRUE, #Que lo vuelva a intentar
    answer("Opci√≥n 1"),
    answer("Opci√≥n 2"),
    answer("Opci√≥n correcta", correct = TRUE)
  ),
  question("Pueses incluir mensajes para cada opci√≥n y m√°s de una opci√≥n correcta.",
    allow_retry = TRUE,
    answer("Una opci√≥n correcta", correct = TRUE,message = "Mensaje adicional"),
    answer("Una opci√≥n incorrecta", message = "Mensaje adicional"),
    answer("Otra opci√≥n incorrecta"),
    answer("Otra opci√≥n correcta", correct = TRUE)
  )
)
```

**Resultado**

```{r cuestionario6}
quiz(
  question(text = "Aqu√≠ escribes la pregunta",
    allow_retry = TRUE,
    answer("Opci√≥n 1"),
    answer("Opci√≥n 2"),
    answer("Opci√≥n correcta", correct = TRUE)
  ),
  question("Pueses incluir mensajes para cada opci√≥n y m√°s de una opci√≥n correcta.",
    allow_retry = TRUE,
    answer("Una opci√≥n correcta", correct = TRUE,message = "Mensaje adicional"),
    answer("Una opci√≥n incorrecta", message = "Mensaje adicional"),
    answer("Otra opci√≥n incorrecta"),
    answer("Otra opci√≥n correcta", correct = TRUE)),
  caption = "Ejemplo"
)
```

### Par√°metros de `question`

-   `text = "¬øEsta es la pregunta?"` El par√°meto `text` contiene una cadena de caracteres o **strings** (es decir texto dentro de "comillas").

-   `answer("Esta es la respuesta correcta", correct = TRUE, message = "Aqu√≠ le dices al usuario algo bonito por haber acertado ;)")`

    -   La funci√≥n answer es un par√°metro de question y contiene a su vez los siguentes par√°metros:

        -   `text` par√°metro de caracteres que definen una posible respuesta a la pregunta

        -   `correct` un par√°metro boolean(o), es decir, TRUE o FALSE. Por defecto, `correct = FALSE` lo cual indica que esa posible respuesta NO ES correcta.

        -   `message` par√°metro de caracteres para dar un mensaje adicional al usuario sobre la opci√≥n de respuesta que eligi√≥.

-   `allow_retry` par√°metro boolean(o), es decri `allow_retry = FALSE` o `allow_retry = TRUE`. Por defecto (es decir, sino se especifica el valor del par√°metro) `allow_retry = FALSE` lo cual implica que NO habr√° posibilidad de que el usuario intente contestar de nuevo (si es que contest√≥ incorrectamente).

-   `correct = "Este mensaje saldr√° cuando aciertes en tu respuesta"`

-   `incorrect = "Este mensaje saldr√° cuando NO aciertes en tu respuesta"`, **solo aparecer√° si** `allow_retry = FALSE`

    `try_again = "Este mensaje saldr√° cuando NO aciertes en tu respuesta y tengas la opci√≥n de intentarlo de nuevo"`

-   `submit_button = "Mensaje que tiene el bot√≥n para confirmar tu respuesta"`, por defecto `submit_button = "Submit Answer"`

-   `try_again_button = "Mensaje que tiene el bot√≥n para hacer otro intento"` (siempre y cuando te equivoques), por defecto`try_again_button = "Try Again"`

-   `random_answer_order = TRUE` es un par√°metro que permite cambiar el orden de las opciones de respuesta cada que vuleves a realizar el tutorial. **Es decir dar click en `Start over`**

```{r cuestionario7, echo = TRUE}
  question(
    text = "¬øCu√°l par√°metro sirve para cambiar el mensaje del bot√≥n para intentar de nuevo?",
    allow_retry=TRUE,
    answer("incorrect",message = "No sabes. Este sirve para dar un mensaje cuando te equivocas"),
    answer("submit_button",message = "No sabes. Aqu√≠ cambias de mesnaje de confirmaci√≥n"),
    answer("try_again_button", correct = TRUE, message = "¬°Maravillos@ estudiante!"),
    correct = "¬°S√≠ que has puesto atenci√≥n!",
    try_again = "Vuelve a leer la secci√≥n de par√°metros",
    submit_button = "Yo s√© que s√©",
    try_again_button = "Acu√©rdate de m√≠",
    random_answer_order = TRUE
  )
```

Si queremos hacer m√∫ltiples preguntas usamos la funci√≥n `quiz` que tenga por par√°metros las diferentes `quiestion`s.

```{r cuestionario8, echo=TRUE}
quiz( 
  question(
    text = "¬øCu√°les son los par√°metros de answer?",
    answer("text",correct = TRUE),
    answer("correct",correct = TRUE),
    answer("message", correct = TRUE), 
    correct = "¬°Muy bien!",
    submit_button = "Yo s√© que s√©", 
    allow_retry = TRUE,
    try_again_button = "Intenta de nuevo",
    try_again = "A lo mejor no leiste bien la pregunta"
    ),
  question(
    text = "¬øQu√© funci√≥n se usa para armar un cuestionario?",
    allow_retry=TRUE,
    answer("quiz", correct = TRUE, message = "Vas por buen camino"),
    answer("questions",message = "Esta funci√≥n no existe en learnr"),
    answer("quizes", message = "Esta funci√≥n no existe en learnr"), 
    correct = "Sigue adelante",
    try_again = "Intenta de nuevo",
    submit_button = "Yo s√© que s√©",
    try_again_button = "Date otra oportunidad"
  ),
caption = "¬øAprendiste?"
)
```

### S√≠mbolos matem√°ticos en las preguntas.

Para poder hacer uso de f√≥rmulas dentro de las preguntas, solo ponemos las f√≥rmulas entre signos de pesos (\$) en sint√°xis de $\mathbb{L_aT_ex}$ y dos backslash `\\`, por ejempo:

```{r quiz4, echo=TRUE}
question(
  
  text = "¬øA qu√© distribuci√≥n corresponde la siguiente funci√≥n de densidad? $f(x) = \\frac{e^{\\frac{-(x-\\mu)^2}{2\\sigma^2}}}{\\sqrt{2\\pi\\sigma^2}}$",
  
  answer("Gaussiana", correct = TRUE),
  answer("Normal", correct = TRUE), 
  
  
#Este par√°metro permite al usuario que aun cuando seleccione una respuesta correcta de muchas, √©sta se evaluar√° como correcta (a diferencia de "checkbox" en la que hay que marcar todas las respuestas correctas para que se eval√∫e como correcta).
  type = "radio", 
  correct = "¬°¬øEres Gauss!?",
  submit_button = "Conf√≠a en t√≠"
)
```

## Incluir elementos externos

### Im√°genes

Debe crearse una carpeta dentro del directorio del tutorial con el nombre **images** y guardar en esta las im√°genes a incluir y referenciarlas a dicha carpeta. Por ejemplo:

`![Mi imagen](images/mi_imagen.png)`

Tambi√©n se pueden incluir im√°genes (gifs) de internet:

`![Imagen](https://link-a-la-imagen)`

![](https://media.tenor.com/images/36f456475f98b4770b4e9ad1016934f1/tenor.gif){style="figure-align: center"}

### Videos

Se usa la misma sint√°xis que para incluir una imagen de internet pero ahora escribimos el link al video. Solo pueden incluirse links a videos de YouTube o vimeo.

El video se reproducir√° dentro del mismo archivo del tutorial (no te redirige a otra p√°gina).

### Links

Si deseas a√±adir material de consulta que se encuentra en internet, puedes incluir referencias dentro del tutorial que te lleven a dichas p√°ginas web.

`[Texto de la referencia](https://link-a-la-pagina-de-referencia)`

```{r cuestionario2}
question(text="¬øCu√°l de los siguientes comandos sirve para a√±adir un video dentro del tutorial?",
         answer("`![video](images/mi_imagen.png)`"),
         answer("`![video](https://link-al-video`)",correct=TRUE),
         answer("`https://link-al-video`"),
         allow_retry=TRUE,
         correct = "¬°Muy bien!",
        try_again = "Te est√°s confundiendo",
        submit_button = "Confirmar",
        try_again_button = "Intentalo de nuevo")
```

## Dise√±o del tutorial

### Temas

De manera simple, podemos hacer que el tutorial se vea con estilo personal poniendo en el encabezado YAML `theme: "default"`, donde default se puede cambiar por alguno de los temas predetirminados, siguientes:

|              |              |               |
|:------------:|:------------:|:-------------:|
| `"default"`  | `"readable"` |   `"paper"`   |
| `"cerulean"` | `"spacelab"` | `"sandstone"` |
| `"journal"`  |  `"united"`  |  `"simplex"`  |
|  `"flatly"`  |  `"cosmo"`   |   `"yeti"`    |
|  `"darkly"`  |  `"lumen"`   |               |

```{r cuestionario3}
question(
  text = "¬øCu√°l es la forma correcta de cambiar el tema del tutorial a `flatly`?",
  allow_retry = TRUE,
  answer("![](images/learnr11.png)", correct = TRUE),
  answer("![](images/learnr12.png)"),
  answer("![](images/learnr13.png)"),
    correct = "¬°Perfecto!",
    try_again = "Intenta de nuevo",
    submit_button = "Lo lograr√©",
    try_again_button = "Quiero salir bien",
    random_answer_order = TRUE
)
```

### CSS

Si quieres un dise√±o distinto (y propio) a los temas predeterminados (de la secci√≥n anterior) puedes crear un archivo o secci√≥n CSS para el tutorial.

Para ello considera el siguiente esquema que ayudar√° a entender la sint√°xis que veremos m√°s adelante:

![](images/learnr14.png){width="694"}

CSS significa Cascading Style Sheets y es un lenguaje de hojas de estilo en cascada que separa los elementos del tutorial para que puedas modificarlos.

Los comandos principales para hacer estos cambios son:

-   `color` color de la letra

-   `font-family` tipo de letra

-   `font-size` tama√±o de la letra

-   `background-color` color de fondo

Un ejemplo para cambiar el body (ver imagen) es el siguiente:

![](images/learnr15.png)

Nota que el color lo pusimos en formato [hexadecimal](https://htmlcolorcodes.com/es/).

**Ejercicio.** Completa el siguiente c√≥digo para cambiar el tipo de letra del nombre de los autores (Arial, Verdana, Helvetica [o la que se pueda](https://www.w3schools.com/css/css_font.asp)).

```{r ej2, exercise = TRUE, exercise.cap = "Mi primer CSS"}
__ {
  color: #8A6C0C;
  font-family: ______;
  font-size: 18px;
}

#Como esta no es sint√°xis de R, habr√° un error al dar click en "Run Code"
```

Estas especificaones se pueden realizar en un archivo CSS o al inicio del tutorial.

Si lo pones al inicio del tutorial (no en un chunk de c√≥digo) necesitar√°s un esquema como este:

    <style>

        h2 {
          color: #6D4101;
          font-size: 35px;
        }
        body {
          font-family: Verdana, Helvetica, sans-serif;
          font-size: 16;
          background-color: #EEF5F9;
          color: #000000;
        }
        
    </style>

Que se pone despu√©s del encabezado YAML.

### Avance progresivo

Para mostrar los subt√≥picos del tutorial (aquellos que tienen \#\#\#) uno a la vez dando click al bot√≥n **Continue** para avanzar, tenemos dos opciones:

-   Aplicarlo a todo el documento activando la opci√≥n `progressive: true` en el encabezado YAML.

        ---
        title: "Hello, Tutorial!"
        output: 
          learnr::tutorial:
            progressive: true
        runtime: shiny_prerendered
        --- 

-   Aplicarlo solo a algunos subt√≥picos agregando `{data-progressive=TRUE}` adelante de cada encabezado de tema (con \#\# ) que queremos revelar de manera progresiva.

        ## Tema {data-progressive=TRUE}

```{r cuestionario4}
question(
  text = "`data-progressive=TRUE` sirve para revelar el contenido de los subtitulos poco a poco...",
  allow_retry = TRUE,
  answer("En todo el documento"),
  answer("En alg√∫n tema del documento", correct = TRUE),
  answer("En todos los temas subsecuentes a esta especificaci√≥n"),
    correct = "¬°Perfecto!",
    try_again = "Intenta de nuevo",
    submit_button = "Lo lograr√©",
    try_again_button = "Quiero salir bien"
)
```

Una vez activada la opci√≥n `progressive` no podremos avanzar en el tutorial sin contestar los ejercicios de cada secci√≥n. Para permitir el avance sin contestar los ejercicios, podemos agregar `allow_skip: true` en el encabezado YAML.

    ---
    title: "Hello, Tutorial!"
    output: 
      learnr::tutorial:
        progressive: true
        allow_skip: true
    runtime: shiny_prerendered
    --- 

Para solo permitir avanzar en algunas secciones y no en otras sin contestar, podemos especificar`{data-allow-skip=TRUE}` o `{data-allow-skip=FALSE}` en cada tema.

```{r cuestionario5}
question(
  text = "¬øCon qu√© comando se permite al usuario avanzar en el tutorial sin haber contestado los ejercicios? (en todo el documento)",
  allow_retry = TRUE,
  answer("data-allow-skip=TRUE"),
  answer("allow_skip: false"),
  answer("allow_skip: true", correct = TRUE),
    correct = "¬°Perfecto!",
    try_again = "Intenta de nuevo",
    submit_button = "Lo lograr√©",
    try_again_button = "Quiero salir bien"
)
```

### Otro formato del tutorial

Es posible incluir ejercicios en otros tipos de documentos adem√°s de un tutorial (`learnr::tutorial`) como dentro de una presentaci√≥n tipo `slidy`. Para esto, se debe incluir `runtime: shiny_prerendered` en el encabezado YAML:

    # title: "Habits"
    # author: John Doe
    # date: March 22, 2005
    # output: slidy_presentation
    # runtime: shiny_prerendered

Antes de incluir un chunk de ejercicio en la presentaci√≥n solo cargamos la paqueter√≠a `learnr`.

## ¬øUna √∫ltima pregunta?

```{r cuestionario10}
question("¬øUsar√°s `learnr` despu√©s de revisar este tutorial?",
         type="radio",
         answer("¬°Por supuesto!", correct=TRUE),
         answer("¬°Claro que s√≠!", correct=TRUE),
         correct="![](https://media1.tenor.com/images/4869c336eb8589454f7dc3582d623eb5/tenor.gif?itemid=6247482)",
         submit_button="Ya es lo √∫ltimo")

```
